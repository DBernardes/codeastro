# Introduction to Git: Demo
This demo will go through how to make a git repository via github,
including how to add and edit files to the repo and resolve conflicts.

For this demo, you will need 3 applications running: a web-browser
with the Github webpage (where you have logged into your account), 
a terminal window, and then your favorite text editor. 

## Make a Git Repo via Github and Clone it to Your Machine

1. After logging into github, click the `Repositories` tab at the top
   of the page and then click the `New` green button to the upper right.

2. Assign your new repo anything you wish, and then configure
   some of the basic settings. For this demo, we'll set the code to be
   public (the default selection) and then click the box to `Add a
   README file`. When complete, click the green `Create Repository`
   button to the bottom right of the page.
   
   This process creates the repo on github and assigns it a web address.
   
3. Now that the github repo is created, we need to copy a version of
   it to our local machine. This process is called "cloning". To clone
   the repo, click the green `Code` button, and copy the HTTPS address
   for the repo. Then, in your terminal window, navigate to whereever
   you'd like the repo to live on your local machine and enter:
   
```
git clone <HTTPS_address_for_repo>
```

This will create a new directory on your local machine with the same
name as the repo. 

## Add and Edit Files in Your Repo 

4. Open `conf.py` in VScode or another editor. This is the configuration
file for the Sphinx documentation builder, which controls how Sphinx
processes your code.

First, we'll need to tell Sphinx where to find your python files by
defining the path. You can think of this as being
similar to the PYTHONPATH environment variable that python uses to run the
python files you create.

If your `conf.py` file has a ``Path setup'' section, then uncomment
the following lines:

```
# import os
# import sys
# sys.path.insert(0, os.path.abspath('.'))
```

Otherwise, copy and paste these lines to the top of `conf.py` and
uncomment them.

4. Change the argument of `os.path.abspath('.')` to point to the top level of
the `tutorial_doc` directory (where `correlate.py` lives). In this
example that would be 
one level up in the directory struture from `conf.py`, which is
denoted as `..`.
```
import os
import sys
sys.path.insert(0, os.path.abspath('..'))
```
This command places the code directory you wish to
document at the front of your existing path, to ensure that sphinx
searches for the python files there first.

5. Make several additional changes to the conf.py file:
* Add the line `root_doc = 'index'` below your author name. This
  defines the main page of your documentation to be 'index.rst" (which
  was automatically generated by `sphinx-quickstart` in step 4). The
  root page contains the
  table of contents for your package (more on that later)
* Also add “sphinx.ext.autodoc” and "sphinx.ext.napoleon" to the `extensions`
   list in `conf.py`. "spinx.ext.autodoc" gives sphinx the power to
   read your python files and automatically extract the
   docstrings. "sphinx.ext.napoleon" allows sphinx to understand
   google-style docstrings.
* Finally, change the `html_theme` variable to
  "sphinx_rtd_theme". This defines the style of the documentation
  webpages. Here, we use the ReadtheDocs format. But, many others are
  availabe (see examples [here](https://www.sphinx-doc.org/en/master/usage/theming.html))


<p align="center">
  <img width="800" height="884" src="./figs/conf_edits2.png">
</p>

6. Now we are ready to build the documentation pages! Do this from the `docs` directory.
```
make html
```

This will create a basic set of documentation pages in `_build/html`. Open up the `index.html` with your favorite browser.


7. This page doesn't have any of the documentation for `correlate.py` yet, so lets add that. The content of these pages are
controlled by the `.rst` (reStructured text) files. In the `docs`
directory, create a new `.rst` file called `correlate.rst`. The contents of this file should look like this:
```
.. _correlation:

Correlation Functions
=====================

Function to perform correlations.

.. automodule:: correlate
   :members:
```
This will tell Sphinx automatically parse `correlate.py` and read
your docstrings in order to turn them into a nicely-formatted web
page. Here is a breakdown of what the different parts of this
   file mean:

<p align="center">
  <img width="800" height="156" src="./figs/correlate_f3.png">
</p>

8. Link the correlate page to the index page by adding ``correlate.rst``
to ``index.rst`` under the "toctree" command. This puts
``correlate.rst`` in the table-of-contents that appears in the main
page of your documentation. Remember to match indentation levels!

<p align="center">
  <img width="800" height="356" src="./figs/index_f.png">
</p>


9. Run `make html` again to update the docs.

10. View your documentation by opening the file at
`_build/html/index.html`. You should now see a link to the Correlation
Functions page, which has the documentation for `correlate.py`.
